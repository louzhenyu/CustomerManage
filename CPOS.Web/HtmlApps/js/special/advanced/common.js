//控件基础信息[请不要修改，与服务器同步]
var ControlMenu = {
	OptionName: {
		Nationality: 'optionnationality',
		Specialty: 'optionspecialty',
		Interest: 'optioninterest',
		Ositions: 'Optionpositions'
	},
	VipName: {
		"ControlID": "b51d1f09-c83b-41d5-8e71-042e7d3c8294",
		"ColumnDesc": "中文姓名",
		"ColumnName": "VipName",
		"Values": '',
		"ControlType": 1,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 0,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": null,
		"Options": null
	},
	EnglishName: {
		"ControlID": "cbffda1d-9dfd-41d6-b9a3-0fd980657857",
		"ColumnDesc": "英文姓名",
		"ColumnName": "Col1",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 1,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 0,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": null,
		"Options": null
	},
	HeadImgUrl: {
		"ControlID": "078ea8b7-8092-4c01-a4f8-1319b70ab054",
		"ColumnDesc": "我的头像",
		"ColumnName": "HeadImgUrl",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 1,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 0,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": null,
		"Options": null
	},
	Gender: {
		"ControlID": "d2f576df-9b40-424b-a50d-1e1663fe39d2",
		"ColumnDesc": "性别",
		"ColumnName": "Gender",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 6,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 0,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": null,
		"Options": [{
			"OptionID": "1",
			"OptionText": "男",
			"IsSelected": 0
		}, {
			"OptionID": "2",
			"OptionText": "女",
			"IsSelected": 0
		}]
	},
	LearnItem: {"ControlID":"72cc236b-391b-4e8b-8103-1fc1ab42af04","ColumnDesc":"项目课程","ColumnName":"Col2","Values":[],"ControlType":102,"AuthType":1,"MinLength":0,"MaxLength":100,"MinSelected":0,"MaxSelected":0,"IsMustDo":0,"IsEdit":0,"IsPrivacy":0,"PrivacyValue":"","Options":null},
	Class: {
		"ControlID": "dc730012-d4e5-46ab-a0d8-22881e13bac5",
		"ColumnDesc": "班级",
		"ColumnName": "Col3",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 103,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 0,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": null,
		"Options": null
	},
	EnrolDate: {
		"ControlID": "dab42306-e9a5-4a9f-8fbd-30cd3d2a2b97",
		"ColumnDesc": "入学年月",
		"ColumnName": "Col4",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 1,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 0,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": null,
		"Options": null
	},
	GraduationDate: {
		"ControlID": "014b2453-c263-4768-bb79-341b96aa38d2",
		"ColumnDesc": "毕业年月",
		"ColumnName": "Col5",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 1,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 0,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": null,
		"Options": null
	},
	Email:{"ControlID":"069aad02-3fcd-4357-8f51-affc493af341","ColumnDesc":"个人邮箱","ColumnName":"Col17","Values":[{"ID":"fncdj ","Text":"fncdj "}],"ControlType":1,"AuthType":1,"MinLength":0,"MaxLength":100,"MinSelected":0,"MaxSelected":0,"IsMustDo":0,"IsEdit":1,"IsPrivacy":1,"PrivacyValue":"","Options":null},
	Birthday: {
		"ControlID": "93bb313d-c04f-4b2b-aeb0-4683395e83d8",
		"ColumnDesc": "出生日期",
		"ColumnName": "Birthday",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 4,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 0,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 1,
		"PrivacyValue": null,
		"Options": null
	},
	Nation:{"ControlID":"5f1f463d-bb63-4100-89f8-4b3cde41ddb9","ColumnDesc":"民族","ColumnName":"Col6","Values":null,"ControlType":1,"AuthType":1,"MinLength":0,"MaxLength":100,"MinSelected":0,"MaxSelected":0,"IsMustDo":1,"IsEdit":1,"IsPrivacy":0,"PrivacyValue":"","Options":null},
	NativePlace: {"ControlID":"d8d4794f-09a4-414f-89bb-50c903d1abf3","ColumnDesc":"籍贯\\出生地","ColumnName":"Col7","Values":[{"ID":"","Text":""}],"ControlType":1,"AuthType":1,"MinLength":0,"MaxLength":500,"MinSelected":0,"MaxSelected":0,"IsMustDo":1,"IsEdit":1,"IsPrivacy":0,"PrivacyValue":"","Options":null},
	Nationality: {
		"ControlID": "c412f4f9-560d-465b-ad76-5884237d46d9",
		"ColumnDesc": "国籍",
		"ColumnName": "Col8",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 6,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 0,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 1,
		"PrivacyValue": null,
		"Options": null
	},
	City:{"ControlID":"6be0ef36-2478-436b-b18f-6ea3ee32e15d","ColumnDesc":"常驻","ColumnName":"Col9","Values":[{"ID":"","Text":""}],"ControlType":105,"AuthType":1,"MinLength":0,"MaxLength":500,"MinSelected":0,"MaxSelected":0,"IsMustDo":1,"IsEdit":1,"IsPrivacy":0,"PrivacyValue":"","Options":null},
	Trade: {
		"ControlID": "096f52bc-0afd-4b62-83be-72db58552c4d",
		"ColumnDesc": "所在行业",
		"ColumnName": "Col10",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 107,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 0,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": null,
		"Options": null
	},
	Company: {
		"ControlID": "0f23aabf-e572-462e-a189-7f3c443bf5d7",
		"ColumnDesc": "机构名称",
		"ColumnName": "Col11",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 1,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 0,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": null,
		"Options": null
	},
	CompanyIntro: {"ControlID":"badda3e6-6913-46c7-bd65-50d323b11ead","ColumnDesc":"机构介绍","ColumnName":"Col34","Values":[{"ID":"","Text":""}],"ControlType":1,"AuthType":1,"MinLength":0,"MaxLength":500,"MinSelected":0,"MaxSelected":0,"IsMustDo":1,"IsEdit":1,"IsPrivacy":0,"PrivacyValue":"","Options":null},
	CompanyEnglishName: {
		"ControlID": "f010369f-b740-46ac-9ff3-8762aef99b68",
		"ColumnDesc": "机构英文名称",
		"ColumnName": "Col12",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 1,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 0,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": null,
		"Options": null
	},
	Branch: {"ControlID":"5ebb1f09-330c-464a-9686-5e3c6f8e0950","ColumnDesc":"部门","ColumnName":"Col35","Values":[{"ID":"","Text":""}],"ControlType":1,"AuthType":1,"MinLength":0,"MaxLength":500,"MinSelected":0,"MaxSelected":0,"IsMustDo":1,"IsEdit":1,"IsPrivacy":0,"PrivacyValue":"","Options":null},
	Position: {"ControlID":"8ad95e44-0aee-44a9-bf38-9d7b4e173f71","ColumnDesc":"职务","ColumnName":"Col36","Values":[{"ID":"","Text":""}],"ControlType":1,"AuthType":1,"MinLength":0,"MaxLength":500,"MinSelected":0,"MaxSelected":0,"IsMustDo":1,"IsEdit":1,"IsPrivacy":0,"PrivacyValue":"","Options":null},
	SocietyPosition:{"ControlID":"0a4465b5-f36d-40d6-960f-15feb08e0eca","ColumnDesc":"社会职务","ColumnName":"Col14","Values":[{"ID":"大学计算机","Text":"大学计算机"}],"ControlType":1,"AuthType":1,"MinLength":0,"MaxLength":500,"MinSelected":0,"MaxSelected":0,"IsMustDo":1,"IsEdit":1,"IsPrivacy":0,"PrivacyValue":"","Options":null},
	CompanyUrl: {
		"ControlID": "a8ab0010-0bbb-477f-ba95-a1237feed099",
		"ColumnDesc": "机构网站",
		"ColumnName": "Col15",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 1,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 0,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 1,
		"PrivacyValue": null,
		"Options": null
	},
	Special:{"ControlID":"a13da709-0b25-4eae-a6da-eeba98fe74af","ColumnDesc":"擅长或经验","ColumnName":"Col25","Values":[],"ControlType":8,"AuthType":1,"MinLength":0,"MaxLength":500,"MinSelected":0,"MaxSelected":1,"IsMustDo":0,"IsEdit":1,"IsPrivacy":0,"PrivacyValue":"","Options":0},
	Hobby:{"ControlID":"72245a31-b07f-4568-b0cd-f021312dac1c","ColumnDesc":"兴趣爱好","ColumnName":"Col26","Values":[],"ControlType":8,"AuthType":1,"MinLength":0,"MaxLength":500,"MinSelected":0,"MaxSelected":1,"IsMustDo":0,"IsEdit":1,"IsPrivacy":0,"PrivacyValue":"","Options":0},
	FollowTrade: {"ControlID":"eefbfb54-f10f-4356-9912-f214a7f17b2b","ColumnDesc":"关注行业","ColumnName":"Col27","Values":[],"ControlType":108,"AuthType":1,"MinLength":0,"MaxLength":500,"MinSelected":0,"MaxSelected":0,"IsMustDo":0,"IsEdit":1,"IsPrivacy":0,"PrivacyValue":"","Options":null},
	Invest: {
		"ControlID": "e8e2f9a9-6be5-49ea-8804-f777764f9caf",
		"ColumnDesc": "投资",
		"ColumnName": "Col28",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 1,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 0,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": null,
		"Options": null
	},
	SpreadPhone: {
		"ControlID": "98ccaa1c-9c0c-4186-8891-fb0b1651c79d",
		"ColumnDesc": "分机",
		"ColumnName": "Col29",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 1,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 0,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": null,
		"Options": null
	},
	WishActivityPosition: {
		"ControlID": "b9f9ad70-f2a2-40ab-8b00-fc855cfc100b",
		"ColumnDesc": "我愿意在校友活动中担任",
		"ColumnName": "Col30",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 8,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 0,
		"MinSelected": 0,
		"MaxSelected": 1,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": null
	},
	CompanyPhone: {
		"ControlID": "4e57ba73-d8ab-4fbb-9ac7-ade778645d15",
		"ColumnDesc": "单位座机",
		"ColumnName": "Col16",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 1,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 100,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": null,
		"Options": null
	},
	Mobile: {
		"ControlID": "7234d58d-5c8e-4bce-9e8a-a8ea552f097f",
		"ColumnDesc": "手机",
		"ColumnName": "Phone",
		"Values": [{
			"ID": "13636345407",
			"Text": "13636345407"
		}],
		"ControlType": 1,
		"AuthType": 8,
		"MinLength": 0,
		"MaxLength": 100,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": null,
		"Options": null
	},
	AssistantName: {
		"ControlID": "9be79d6a-f8a4-4572-b7f9-d6ad7b17b69a",
		"ColumnDesc": "助理姓名",
		"ColumnName": "Col21",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 1,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 100,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 1,
		"PrivacyValue": null,
		"Options": null
	},
	AssistantMobile: {
		"ControlID": "736c5517-e318-40d7-b1fc-e1c017419a8a",
		"ColumnDesc": "助理手机",
		"ColumnName": "Col22",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 1,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 100,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 1,
		"PrivacyValue": null,
		"Options": null
	},
	AssistantEmail:{"ControlID":"b2873dea-1286-4981-a62c-ea4686b63aaa","ColumnDesc":"助理邮箱","ColumnName":"Col24","Values":[{"ID":"","Text":""}],"ControlType":1,"AuthType":1,"MinLength":0,"MaxLength":100,"MinSelected":0,"MaxSelected":0,"IsMustDo":0,"IsEdit":1,"IsPrivacy":0,"PrivacyValue":"","Options":null},
	MyIntroduce: {
		"ControlID": "e8e2f9a9-6be5-49ea-8804-f777764f9caf",
		"ColumnDesc": "自我介绍",
		"ColumnName": "Col28",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 1,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 0,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": null,
		"Options": null
	},
	ContactAddress: {
		"ControlID": "988aebd7-bdc1-413d-9375-b8aa44c7e44c",
		"ColumnDesc": "通讯地址",
		"ColumnName": "Col19",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 1,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 500,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 1,
		"IsEdit": 1,
		"IsPrivacy": 1,
		"PrivacyValue": null,
		"Options": null
	},
	WeiBo: {
		"ControlID": "0ef0aeb7-564e-45ae-9f2d-d50d74bd85e5",
		"ColumnDesc": "微博",
		"ColumnName": "SinaMBlog",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 1,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 100,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": null,
		"Options": null
	},
	Blog: {
		"ControlID": "16a20b4a-8d8b-4d7a-ac87-d6879e6ab996",
		"ColumnDesc": "个人博客地址",
		"ColumnName": "TencentMBlog",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 1,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 500,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": null,
		"Options": null
	},
	SaifEmail: {"ControlID":"271f865e-320f-47f9-a6c9-347f2d1231de","ColumnDesc":"SAIF邮箱","ColumnName":"Email","Values":[{"ID":"","Text":""}],"ControlType":1,"AuthType":6,"MinLength":0,"MaxLength":100,"MinSelected":0,"MaxSelected":0,"IsMustDo":0,"IsEdit":1,"IsPrivacy":1,"PrivacyValue":"1","Options":null},
	Education: {
		"ControlID": "f1aac748-4b88-4cbe-8d00-d5660869bf24",
		"ColumnDesc": "学习经历",
		"ColumnName": "Col33",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 1,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 500,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": "",
		"Options": null
	},
	WeiXinNumber: {
		"ControlID": "ab7ee8ef-54de-4eea-9e78-c5112c788fbc",
		"ColumnDesc": "微信号",
		"ColumnName": "Col20",
		"Values": [{
			"ID": "",
			"Text": ""
		}],
		"ControlType": 1,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 100,
		"MinSelected": 0,
		"MaxSelected": 0,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 1,
		"PrivacyValue": "",
		"Options": null
	},
	OftenAddress: {
		"ControlID": "e7b3bb8b-c385-45cc-a026-e1f4cc49fb0e",
		"ColumnDesc": "常往来",
		"ColumnName": "Col23",
		"ControlType": 106,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 500,
		"MinSelected": 0,
		"MaxSelected": 1,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": "",
		"Options": null
	},
		OftenAddress: {
		"ControlID": "e7b3bb8b-c385-45cc-a026-e1f4cc49fb0e",
		"ColumnDesc": "常往来",
		"ColumnName": "Col23",
		"ControlType": 106,
		"AuthType": 1,
		"MinLength": 0,
		"MaxLength": 500,
		"MinSelected": 0,
		"MaxSelected": 1,
		"IsMustDo": 0,
		"IsEdit": 1,
		"IsPrivacy": 0,
		"PrivacyValue": "",
		"Options": null
	},
	UpdateItemValues: function(controlInfo) { //更新选项值
		
		if (!controlInfo||!controlInfo.Values) {
			return false
		};
		var self = this;
		for (var item in self) {
			for (var subItem in self[item]) {
				if (self[item][subItem] == controlInfo.ControlID || self[item][subItem] == controlInfo.ColumnName) {
					self[item].Values = controlInfo.Values;
					return false;
				};
			};
		};
	},//字符串选项值转换到列表值
	ConvertToValues:function(strValues){

		if (!strValues) {
			return [];

		};
		var values = [],strIDList=strValues.ID.split(','),strTextList=strValues.Text.split(',');
					for (var i = 0; i < strIDList.length; i++) {
						values.push({ID:strIDList[i],Text:strTextList[i]});
					};
					return values;
	},
	//通过名称获取值 isClone克隆新对象
	GetItem: function(itemName,isCone) {
		var self = this,
			itemInfo;
		for (var item in self) {
			if (item == itemName) {
				itemInfo = self[item];
			};
			for (var subItem in self[item]) {
				if (self[item][subItem] == itemName) {
					itemInfo = self[item];
				};
			};
			if (itemInfo) {
				break;
			};
		};
		return isCone?self.Clone(itemInfo):itemInfo;
	},
	Clone:function(item) {
		var self=this;
		if (typeof(item) != 'object') return item;
		if (item == null) return item;
		var myNewObj = new Object();
		for (var i in item){
			myNewObj[i] = self.Clone(item[i]);
		}
		return myNewObj;
	},
	Key: 'ControlInfo'
};
//编辑框操作
var EditBoxHandle = {
	keys: {
		ColumnName: 'ColumnName',
		value: 'value',
		id: 'id'
	},
	callback:function(){},//回调函数
	init: function(control, callback) {
		if (!control) {
			return false;
		};
		$('.editbox').remove();
		var self = this,
			curBody = $('body'),
			htmlList = self.getHtmlList(control),
			curWindow = $(window);
		curBody.append(htmlList);
		if (!control.MaxSelected) { //单选框隐藏保存按钮，直接选择
			curBody.find('.editbox .editsave').hide();
		};
		self.callback=callback;
		self.bindEvent();
		//显示动画
		var editbox = $('.editbox');
		editbox.css('top', curWindow.height());
		setTimeout(function() {
			editbox[0].style.top = "0";
		}, 50);
	},
	getHtmlList: function(control) {
		var self=this, htmlList = new StringBuilder();
		htmlList.append("<div class=\"editbox\">");
		var controlInfo = control;
		htmlList.appendFormat("<div class=\"edititem\" ColumnName=\"{0}\" ><div class=\"edithead\"><a class=\"editcancel\">取消</a><span>{1}</span><a class=\"editsave\" >确认</a></div>", controlInfo.ColumnName, controlInfo.ColumnDesc);
		htmlList.append("\<div class=\"editbody\" id=\"EditBoxScroll\"  >");
		switch (controlInfo.ControlType) {
			case 6: //下拉框 
			case 7:
			case 8:
			case 27:
			case 28:
			case 102:
			case 103:
			case 104:
			case 105:
			case 106:
			case 107:
			case 108:
			if (controlInfo.Options) {
				htmlList.append("<div  class=\"commonOptionList\">");
				for (var i = 0; i < controlInfo.Options.length; i++) {
					var optionItem = controlInfo.Options[i];
					optionItem.IsSelected=self.getIsSelected(controlInfo.Values,optionItem);
					htmlList.appendFormat("<div class=\"commonBox\" ><div class=\"item {0}\"><div class=\"info\"><span class=\"tit\" ColumnName=\"{1}\" >{2}</span></div><span class=\"pointer\"></span></div></div>", optionItem.IsSelected ? 'on' : '', optionItem.OptionID, optionItem.OptionText);
				};
				htmlList.append(" </div>");
				};
				htmlList.append('<div class=\"tip\">如未找到相关,请于校友会联系添加。</div>');
				break;
		}
		htmlList.append("</div></div></div>");
		return htmlList.toString();
	},
	getIsSelected:function(values,optionItem){

	if (!values) { return false;};
	for (var i = 0; i < values.length; i++) {
	 var dataInfo=values[i]
		if (dataInfo.ID==optionItem.OptionID||dataInfo.Text==optionItem.OptionText) {
			return true;
		};


	};
		return false;
	},
	bindEvent: function() {
		var self = this,
			editbox = $('.editbox'),
			EditBoxScroll = editbox.find('#EditBoxScroll');
		//取消当前编辑框
		editbox.find('.editcancel').bind(JitPage.eventType, function() {
			var element = $(this),
				elementParent = element.parents('.edititem');
			elementParent.hide();
			editbox.hide();
		});
		//保存当前编辑框
		editbox.find('.editsave').bind(JitPage.eventType, function() {
			self.SaveEvent(this);
		});
		//下拉框处理
		editbox.find('.commonBox .item').bind(JitPage.eventType, function() {
			var element = $(this),
				elementParentItem = element.parents('.edititem'),
				columnName = elementParentItem.attr(self.keys.ColumnName),
				controlInfo = ControlMenu.GetItem(columnName);
			if (element.hasClass('on')) {
				element.removeClass('on');
			} else {
				element.addClass('on');
				//多选和单选处理
				if (!controlInfo.MaxSelected) {
					editbox.find('.commonBox .item').not(element).removeClass('on');
					self.SaveEvent(this);
				}

			}
		});
		//文本框取消值处理
		editbox.find('.closeIcon').bind(JitPage.eventType, function() {
			var element = $(this),
				beforeElement = element.prev();
			beforeElement.val('');
		});
		var txtDate = editbox.find('#txtDate');
		if (txtDate.size()) { //如果是日期类型，绑定日期控件(需要引入日期类库)
			var opt = {},
				currYear = (new Date()).getFullYear();
			opt.date = {
				preset: 'date'
			};
			opt.datetime = {
				preset: 'datetime'
			};
			opt.time = {
				preset: 'time'
			};
			opt["default"] = {
				theme: 'android-ics light', //皮肤样式
				display: 'modal', //显示方式
				mode: 'scroller', //日期选择模式
				lang: 'zh',
				startYear: 1930, //开始年份
				endYear: currYear + 10, //结束年份,
				CallBack: function() { //回调函数
				}
			};
			txtDate.val('').scroller('destroy').scroller($.extend(opt['date'], opt['default']));
		};
		if (EditBoxScroll.find('.commonOptionList').size()) { //绑定列表拖拽事件，需要引入iscroll库
			var curWindow = $(window);

			function setSize() {
				EditBoxScroll.height(curWindow.height() - 55);
				EditBoxScroll.width(curWindow.width());
			}
			setSize();
			//綁定滾動事件
			myScroll = new iScroll('EditBoxScroll', {
				// snap: true,
				// momentum: false,
				hScrollbar: false,
				vScrollbar: false,
				// hScroll: false,
				checkDOMChanges:true
			});
			curWindow.resize(function() {
				setSize();
			});
		};
	},
	SaveEvent: function(obj) {
		var self = this,
			element = $(obj),
			editbox = $('.editbox'),
			elementParent = element.parents('.edititem'),
			curValue = {
				Text: '',
				ID: ''
			};
		elementParent.find('.commonBox .item').each(function() {
			var subElement = $(this),
				valueItem = subElement.find('.tit');
			if (subElement.hasClass('on')) {
				if (curValue.Text) {
					curValue.Text += ',';
					curValue.ID += ',';
				};
				curValue.Text += valueItem.html();
				curValue.ID += valueItem.attr(self.keys.ColumnName);
			};
		});
		// elementParent.data(self.keys.value, curValue.Text.toString());
		// elementParent.data(self.keys.id, curValue.ID.toString());
		// curValue = {
		// 	Text: '',
		// 	ID: ''
		// };
		// editbox.find('.edititem').each(function() {
		// 	var elementEditItem = $(this);
		// 	if (curValue.Text) {
		// 		curValue.Text += ',';
		// 		curValue.ID += ',';
		// 	};
		// 	curValue.Text += elementEditItem.data(self.keys.value);
		// 	curValue.ID += elementEditItem.data(self.keys.id);
		// });
		if (self.callback&&curValue.ID) {
			self.callback(curValue);
		};
		editbox.hide();
	}
};
//页面数据操作对象
function PageDataInfo(pages) {
	var self = this,
		dataList = pages;
	//获取控件的值 isPrivacy=获取隐私值
	this.getValue = function(menuItem, isPrivacy) {
		for (var i = 0; i < pages.length; i++) {
			var pageItem = pages[i];
			for (var j = 0; j < pageItem.Blocks.length; j++) {
				var blockItem = pageItem.Blocks[j];
				if (!blockItem.Controls) {
					break;
				};
				for (var p = 0; p < blockItem.Controls.length; p++) {
					var controlItem = blockItem.Controls[p];
					if (controlItem.ColumnName == menuItem.ColumnName || controlItem.ControlID == menuItem.ControlID) {
						// if (controlItem.IsPrivacy) {
						// 	return "保密";
						// };
						if (isPrivacy) {
							return controlItem.PrivacyValue;
						};
						if (!controlItem.Values) {
							return "";
						};
						var value = "";
						for (var i = 0; i < controlItem.Values.length; i++) {
							var valueItem = controlItem.Values[i];
							if (value) {
								value += ",";
							};
							value += valueItem.Text;
						};
						return value;
					};
				};
			}
		}
		return "";
	}
}
var ConcealBoxHandle = {
	init: function(controlInfo, callback) {
		var self = this,
			htmlList = self.getHtmlList(),
			curBody = $('body');
		curBody.append(htmlList);
		//初始化已经选中的值
		if (controlInfo.PrivacyValue) {
			var dataList = controlInfo.PrivacyValue.toString().split(','),
				concealbox = $('.concealbox');
			for (var i = 0; i < dataList.length; i++) {
				var dataInfo = dataList[i];
				concealbox.find('li').each(function() {
					var element = $(this),
						dataValue = element.data(EditBoxHandle.keys.value);
					if (dataValue == dataInfo) {
						element.addClass('on');
					};
				});
			};
		};
		self.bindEvent(callback);
	},
	getHtmlList: function() {
		var templateHtml = new StringBuilder();
		templateHtml.append("<div class=\"concealbox\"><div class=\"concealbody\"><ul>");
		templateHtml.append("<li data-value=\"1\">仅自己</li>");
		templateHtml.append("<li data-value=\"2\">所有校友可见</li>");
		templateHtml.append("<li data-value=\"3\">本项目课程可见</li>");
		templateHtml.append("<li data-value=\"4\">我加入的俱乐部会员可见</li>");
		templateHtml.append("<li data-value=\"5\">我加入的地方校友会员可见</li>");
		templateHtml.append("<li data-value=\"6\">我加入的行业协会可见</li>");
		templateHtml.append("<li class=\"handle\"><a  class=\"cancel\">取消</a><a  class=\"submit\">确定</a></li>");
		templateHtml.append("</ul></div></div>");
		return templateHtml.toString();
	},
	bindEvent: function(callback) {
		var self = this,
			curBox = $('.concealbox');
		//取消
		curBox.find('.cancel').bind(JitPage.eventType, function() {
			curBox.remove();
		});
		//提交
		curBox.find('.submit').bind(JitPage.eventType, function() {
			var values = "";
			curBox.find('.on').each(function() {
				var element = $(this),
					dataValue = element.data(EditBoxHandle.keys.value);
				if (values) {
					values += ',';
				};
				values += dataValue;
			});
			if (callback) {
				callback(values);
			};
			curBox.remove();
		});
		//绑定选中事件
		curBox.find('li').bind(JitPage.eventType, function() {
			var element = $(this),
				dataValue = element.data(EditBoxHandle.keys.value);
			if (element.hasClass('handle')) {
				return false;
			};
			if (element.hasClass('on')) {
				element.removeClass('on');
			} else {
				//第一，第二项只能选择一项
				if (dataValue == '1' || dataValue == '2') {
					curBox.find('li').removeClass('on');
				} else {
					curBox.find('li').eq(0).removeClass('on');
					curBox.find('li').eq(1).removeClass('on');
				}
				element.addClass('on');
			}
		});
	}
};
(function() {
	//页面加载提醒
	// var PageLoadHandle = {
	// 	key: 'loadingTime_' + Jit.AM.getBaseAjaxParam().customerId,
	// 	filter: ['Login'],
	// 	init: function() {
	// 		var self = this,
	// 			curPageTitleName = $('title').attr('name'),
	// 			validateTime = localStorage.getItem(self.key);
	// 		if (validateTime) { //如果加载过一次不再做验证。
	// 			var now = new Date(),
	// 				oldDate = new Date(validateTime);
	// 			if (self.dateDiff(now, oldDate) <= 1) {
	// 				return false;
	// 			};
	// 		};
	// 		if (self.filter.indexOf(curPageTitleName) == -1) {
	// 			return false;
	// 		};
	// 		var imageList = ['../../../images/special/advanced/loadingBg.jpg', '../../../images/special/advanced/loadingBg1.jpg'],
	// 			loadElement = $('<div>').addClass('loadingBg'),
	// 			randomIndex = parseInt(Math.random() * imageList.length),
	// 			curBody = $('body');
	// 		loadElement.css('background-image', "url(" + imageList[randomIndex] + ")");
	// 		curBody.append(loadElement);
	// 		var curDate = new Date();
	// 		//写入最新时间
	// 		localStorage.setItem(self.key, curDate);
	// 		//3秒后删除提醒
	// 		setTimeout(function() {
	// 			curBody.find('.loadingBg').remove();
	// 		}, 3000);
	// 	},
	// 	dateDiff: function(date, forDate) {
	// 		return (date.getTime() - forDate.getTime()) / (24 * 60 * 60 * 1000);
	// 	}
	// };
	// PageLoadHandle.init();
	//访问验证操作
	var VisitHandle = {
		filter: ['Account', 'AddressBook', 'UserEdit', 'MyClass','SchoolSearch'],
		init: function() {
			var self = this,
				curPageTitleName = $('title').attr('name');
			if (self.filter.indexOf(curPageTitleName) == -1) {
				return false;
			};
			var baseInfo = Jit.AM.getBaseAjaxParam();
			if (!baseInfo.userId) {
				Jit.AM.toPage('Login');
			};
		}
	};
	VisitHandle.init();
})();